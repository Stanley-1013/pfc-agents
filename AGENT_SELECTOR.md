# Agent 選擇指南

> 給人類的快速參考，幫助理解系統運作方式。

## 基本概念

PFC（Prefrontal Cortex）是系統的規劃者，負責分析任務、分解工作、決定由誰執行。當你描述一個複雜任務時，PFC 會：

1. 分析任務內容
2. 分解為可執行的子任務
3. 決定每個子任務由哪個 Agent 處理
4. 規劃執行順序和依賴關係
5. 回報執行計畫

你不需要手動選擇 Agent，只需清楚描述你要做什麼。

## Agent 角色說明

| Agent | 職責 | 使用時機 |
|-------|------|----------|
| **PFC** | 規劃任務、分解子任務 | 複雜多步驟任務需要規劃 |
| **Executor** | 執行具體程式碼任務 | 撰寫程式、修改檔案、執行指令 |
| **Critic** | 驗證結果品質 | 重要任務需要驗證 |
| **Memory** | 儲存和檢索知識 | 學到重要經驗、查詢歷史知識 |
| **Researcher** | 深度研究和資訊收集 | 不確定方向、需要大量分析 |

## 驗證循環

當子任務設定 `requires_validation=True` 時，會進入驗證流程：

```
Executor 執行 → Critic 驗證 → 通過 → 完成
                    ↓
                  不通過
                    ↓
              Executor 修復 → 重新驗證
```

建議在重要任務上啟用驗證，確保品質。

## 你可以做的事

1. **描述任務** - 越具體越好，PFC 會自動規劃
2. **確認計畫** - PFC 規劃完成後會詢問你確認
3. **指出問題** - 如果結果不符合預期，直接說明
4. **要求存經驗** - 發現重要模式或解法時，可以要求儲存

## 常用指令

- 「繼續之前的任務」 - 恢復中斷的任務
- 「查看進度」 - 顯示當前任務狀態
- 「這個經驗很重要，存起來」 - 儲存學習經驗
- 「暫停」 - 存檔並停止執行

## 任務恢復

Claude Code 的 auto-compact 會自動壓縮對話歷史。任務進度存在資料庫中，auto-compact 後說「繼續之前的任務」即可恢復。
